{% extends 'list_categories.html' %}
{% block content %}
<style>
  .user-list {
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: #e3f2fd;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 800px;
    margin: 20px auto;
  }
  .user-list h1 {
    color: #212529;
  }
  .user-details {
    width: 100%;
    margin-top: 20px;
  }
  .user-details h2 {
    color: #212529;
  }
  .user-details ul {
    list-style-type: none;
    padding: 0;
  }
  .user-details li {
    background-color: #e9ecef;
    margin: 10px 0;
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
</style>

<div class="user-list">
  <h1>List of Users and Issued Books</h1>
  {% for user, issues in user_issues.items %}
  <div class="user-details">
    <h2>{{ user.username }}</h2>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <h3>Issued Books:</h3>
    <ul>
      {% for issue in issues %}
      <li>{{ issue.book.title }} (Issued on: {{ issue.issue_date }})</li>
      {% endfor %}
    </ul>
  </div>
  {% endfor %}
</div>
{% endblock content %}
